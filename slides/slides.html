<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=" http-equiv="Content-Type" />
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
<meta content="Asciidoctor 1.5.3" name="generator" />
<title>DS420: DataStax Enterprise for Developers</title>
<link href="deck.js/themes/style/font.css" rel="stylesheet" />
<style>
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 1.2em; height: 1.2em; font-size: 0.9em; font-weight: bold; line-height: 1.2; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -0.1em; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.colist table td:first-of-type { padding-right: 0.25em; }
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<link href="deck.js/core/deck.core.css" rel="stylesheet" />
<link href="deck.js/extensions/scale/deck.scale.css" media="screen" rel="stylesheet" />
<link href="deck.js/extensions/goto/deck.goto.css" media="screen" rel="stylesheet" />
<link href="deck.js/themes/style/datastax.css" media="screen" rel="stylesheet" />
<link href="deck.js/themes/transition/fade.css" media="screen" rel="stylesheet" />
<link href="deck.js/core/print.css" media="print" rel="stylesheet" />
<script src="deck.js/modernizr.custom.js"></script>
</head>
<body class="article">
<div class="deck-container">
<section class="slide" id="title-slide">
<h1>DS420: DataStax Enterprise for Developers</h1>
</section>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph" id="courses-DS420-components-introduction"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/introduction/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-big-brokers-architecture"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/big-brokers-architecture/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-vm-intro"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/vm-intro/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-core-java-intro"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/core-java-intro/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-create-cluster-object"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/create-cluster-object/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-drivers-configuration-options-policies-cluster-config"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/drivers/configuration-options-policies/cluster-config/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-drivers-configuration-options-policies-node-discovery"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/drivers/configuration-options-policies/node-discovery/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-drivers-configuration-options-policies-load-balancing-options"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/drivers/configuration-options-policies/load-balancing-options/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-drivers-configuration-options-policies-failover-options"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/drivers/configuration-options-policies/failover-options/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-drivers-configuration-options-policies-connection-options-pooling"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/drivers/configuration-options-policies/connection-options-pooling/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-1.1-cassandra-session"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/1.1-cassandra-session/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-core-java-data-types"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/core-java-data-types/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-drivers-key-driver-options-concepts-key-object-concepts"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/drivers/key-driver-options-concepts/key-object-concepts/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-cqlstatements"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/cqlstatements/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-1.2-user"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/1.2-user/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-query-builder"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/query-builder/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-batching"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/batching/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-modeling-review"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/modeling-review/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-modeling-relationships"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/modeling-relationships/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-nesting-udts"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/nesting-udts/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-1.3-address-udt"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/1.3-address-udt/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-object-mapping-annotations"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/object-mapping-annotations/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-security"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/security/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-2.1-user-session"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/2.1-user-session/src/includes.adoc[]</p></div>
<div class="paragraph" id="cassandra-dse-dev-accessors"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/cassandra/dse-dev/accessors/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-2.2-accessors"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/2.2-accessors/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-time-series"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/time-series/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-3.1-time-series"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/3.1-time-series/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-time-series-2"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/time-series-2/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-3.2-time-series-2"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/3.2-time-series-2/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-tombstones"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/tombstones/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-4.1-tombstones"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/4.1-tombstones/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-asynchronous"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/asynchronous/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-4.2-current-quotes"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/4.2-current-quotes/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-transactions"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/transactions/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-4.3-transactions"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/4.3-transactions/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-spark-intro"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/spark-intro/src/includes.adoc[]</p></div>
</div>
</div>
<section class="slide" id="spark-architecture-architecture">
<h2>Spark Architecture</h2>
<div class="imageblock" style="float: center">
<div class="content">
<img alt="spark" src="images/spark/architecture/architecture/spark.svg" />
</div>
</div>
<div class="openblock notes">
<div class="content">
<div class="ulist">
<ul>
<li>Master-worker architecture</li>
<li>Master (aka cluster manager) manages Workers and their resources</li>
<li>Workers instantiate Executors and give them resources (cores and memory)</li>
<li>Driver schedules computation directly with Executors</li>
<li><p>
Failure tolerance<div class="ulist">
<ul>
<li>Worker/Executor - no problem; computation is picked up by remaining Workers/Executors</li>
<li>Master - new Master is elected (DSE feature); running applications are not affected; new applications
are only affected temporarily until new Master is started</li>
</ul>
</div></p></li>
<li><p>
Notes:<div class="ulist">
<ul>
<li>DSE Spark cluster manager is standalone (open-source Spark also supports Apache Mesos and Hadoop YARN)</li>
<li>If Driver requests more resources than a cluster can supply, Master will respond with "not enough resources"</li>
<li>Master, Worker, Executor are all separate JVMs</li>
</ul>
</div></p></li>
</ul>
</div>
</div>
</div>
</section>
<section class="slide" id="spark-computation-dag-jobs-stages-and-tasks">
<h2>Spark Computation: DAG, Jobs, Stages, and Tasks</h2>
<div class="imageblock" style="float: center">
<div class="content">
<img alt="computation" src="images/spark/architecture/architecture/computation.svg" />
</div>
</div>
<div class="openblock notes">
<div class="content">
<div class="ulist">
<ul>
<li>DAG stands for Directed Acyclic Graph of Operations</li>
<li>DAG is divided into Jobs (Job per action)</li>
<li>Job is divided into Stages (a shuffling operation or action delimits a Stage)</li>
<li>Stages have identical Tasks (Task per RDD partition)</li>
<li>Tasks are executed by Executors in parallel</li>
<li>Executors hold input and output RDD partitions in cache (and sometimes on disk)</li>
<li>Intermediate results are never transferred to Driver but <em>SparkContext</em> knows about
their locations to schedule subsequent computation</li>
<li>Note:  Stages 3 and 4 will be skipped if the results of Stages 0 and 1 are cached</li>
</ul>
</div>
</div>
</div>
</section>
<section class="slide" id="cassandra-architecture">
<h2>Cassandra Architecture</h2>
<div class="imageblock" style="float: center">
<div class="content">
<img alt="cassandra" src="images/spark/architecture/architecture/cassandra.svg" />
</div>
</div>
<div class="openblock notes">
<div class="content">
<div class="paragraph"><p>This is a quick review of what you already know about Cassandra:</p></div>
<div class="ulist">
<ul>
<li>Peer-to-peer architecture</li>
<li>Failure tolerance/availability</li>
<li>Cassandra token ring</li>
<li>Data structures (table)</li>
<li>Data distribution (partition key)</li>
<li>Data replication (replication factor)</li>
<li>Data consistency (consistency level)</li>
</ul>
</div>
</div>
</div>
</section>
<section class="slide" id="dse-integration-of-spark-and-cassandra">
<h2>DSE Integration of Spark and Cassandra</h2>
<div class="imageblock" style="float: center">
<div class="content">
<img alt="integration" src="images/spark/architecture/architecture/integration.svg" />
</div>
</div>
<div class="openblock notes">
<div class="content">
<div class="ulist">
<ul>
<li>Each physical node runs both Cassandra and Spark JVMs to achieve the best data locality</li>
<li><em>Spark-Cassandra Connector</em> enables communication between Spark and Cassandra components</li>
<li><em>Spark-Cassandra Connector</em> is a library for (primarily) retrieving data from and storying data into Cassandra</li>
</ul>
</div>
</div>
</div>
</section>
<section class="slide" id="multi-data-center-deployment">
<h2>Multi Data Center Deployment</h2>
<div class="imageblock" style="float: center">
<div class="content">
<img alt="deployment" src="images/spark/architecture/architecture/deployment.svg" />
</div>
</div>
<div class="openblock notes">
<div class="content">
<div class="paragraph"><p>In production, it is very important to separate transactional and analytical workloads into two or more data centers.</p></div>
<div class="ulist">
<ul>
<li><em>DC Operations</em> (Cassandra only): fast real-time transactions</li>
<li><em>DC Analytics</em> (Cassandra + Spark): batch and near-real-time, interactive jobs</li>
</ul>
</div>
<div class="paragraph"><p><em>DC Operations</em> collects data and serves real-time applications. Data is typically replicated to <em>DC Analytics</em> automatically.</p></div>
<div class="paragraph"><p><em>DC Analytics</em> uses Spark to retrieve data from Cassandra, run expensive analysis, and store results back to Cassandra.
Results may or may not be replicated back to <em>DC Operations</em>, depending on application
requirements (readily controlled by replication strategy settings for a keyspace).</p></div>
<div class="paragraph"><p>There can be, of course, multiple operational and analytical data centers.</p></div>
</div>
</div>
<div class="paragraph" id="courses-DS420-components-spark-etl"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/spark-etl/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-5.1-spark-import"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/5.1-spark-import/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-spark-transformation"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/spark-transformation/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-5.2-spark-transformation"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/5.2-spark-transformation/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-spark-aggregation"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/spark-aggregation/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-5.3-spark-aggregation"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/5.3-spark-aggregation/src/includes.adoc[]</p></div>
</section>
<section class="slide" id="spark-streaming-architecture">
<h2>Spark Streaming Architecture</h2>
<div class="imageblock" style="float: center">
<div class="content">
<img alt="streaming architecture" src="images/spark/streaming/architecture/streaming-architecture.svg" />
</div>
</div>
<div class="openblock notes">
<div class="content">
<div class="paragraph"><p>You should already be familiar with Spark Architecture:</p></div>
<div class="ulist">
<ul>
<li><em>Client</em>, <em>Driver</em>, <em>SparkContext</em></li>
<li><em>Master</em></li>
<li><em>Worker</em></li>
<li><em>Executor</em></li>
</ul>
</div>
<div class="paragraph"><p>Spark Streaming Architecture has additional components:</p></div>
<div class="ulist">
<ul>
<li><p>
<em>StreamingContext</em><div class="ulist">
<ul>
<li>Entry point to Spark Streaming functionality</li>
<li>Uses <em>SparkContext</em></li>
</ul>
</div></p></li>
<li><p>
<em>Data Stream Source</em><div class="ulist">
<ul>
<li>Spark supports many sources that are named on the next slide</li>
</ul>
</div></p></li>
<li><p>
<em>Receiver</em><div class="ulist">
<ul>
<li>“Long task” (constantly running task) that belongs to one of the <em>Executors</em></li>
<li>Creates a <em>DStream</em> from an input data stream</li>
<li>Replicates a <em>DStream</em> to the cache of another <em>Worker</em>--<em>Executor</em> by default</li>
</ul>
</div></p></li>
</ul>
</div>
</div>
</div>
</section>
<section class="slide" id="data-stream-sources">
<h2>Data Stream Sources</h2>
<table class="tableblock frame-all grid-all" style="width:100%">
<colgroup>
<col style="width:33%" />
<col style="width:33%" />
<col style="width:33%" />
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Basic Sources</th>
<th class="tableblock halign-left valign-top">Advanced Sources</th>
<th class="tableblock halign-left valign-top">Custom Sources</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>File systems</li>
<li>Socket connections</li>
<li>Akka Actors</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>Kafka</li>
<li>Flume</li>
<li>Kinesis</li>
<li>Twitter</li>
<li>ZeroMQ</li>
<li>MQTT</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>User-defined receivers</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="openblock notes">
<div class="content">
<div class="paragraph"><p>Basic Sources are available through <em>StreamingContext</em> API.</p></div>
<div class="paragraph"><p>Advanced sources are available through additional libraries (utility classes).</p></div>
<div class="paragraph"><p>Spark allows extending support to custom sources as well.</p></div>
</div>
</div>
</section>
<section class="slide" id="receiver-reliability">
<h2>Receiver Reliability</h2>
<div class="ulist">
<ul>
<li><p>
Reliable Receiver<div class="ulist">
<ul>
<li>Acknowledges a reliable source that data has been received and replicated</li>
<li>A reliable source replicates its own data and is able to resend it</li>
</ul>
</div></p></li>
<li><p>
Unreliable Receiver<div class="ulist">
<ul>
<li>Does not acknowledge a source</li>
<li>Data loss is possible</li>
</ul>
</div></p></li>
</ul>
</div>
<div class="openblock notes">
<div class="content">
<div class="paragraph"><p>There is exactly one <em>Receiver</em> per stream.
Different data stream sources have different receivers.</p></div>
<div class="paragraph"><p>This is a classification of receivers based on reliability.</p></div>
<div class="paragraph"><p>Note that, even if a source is reliable (can accept acknowledgments, replicates its data, can resend its data),
its corresponding receiver can be designed to be unreliable (to avoid extra complexity) when data loss is not a problem.</p></div>
</div>
</div>
<div class="paragraph" id="courses-DS420-components-spark-streaming"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/spark-streaming/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-5.4-spark-ingestion"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/5.4-spark-ingestion/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-spark-sql"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/spark-sql/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-5.5-adhoc-queries"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/5.5-adhoc-queries/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-solr-intro"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/solr-intro/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-6.1-create-solr-core"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/6.1-create-solr-core/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-solr-cql"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/solr-cql/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-6.2-using-solr-cqlsh"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/6.2-using-solr-cqlsh/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-6.3-implement-solr-search"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/6.3-implement-solr-search/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-solr-schema"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/solr-schema/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-6.4-solr-schema"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/6.4-solr-schema/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-solr-facet"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/solr-facet/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-6.5-facet-search"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/6.5-facet-search/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-solr-collection"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/solr-collection/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-6.6-collection-search"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/6.6-collection-search/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-solr-advanced"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/solr-advanced/src/includes.adoc[]</p></div>
<div class="paragraph" id="courses-DS420-components-exercises-6.7-advanced-query"><p>Unresolved directive in slides.adoc - include::/Users/patrickmcfadin/projects/curriculum/courses/DS420/components/exercises/6.7-advanced-query/src/includes.adoc[]</p></div>
</section>
<section class="slide transition-blue" id="courses-DS420-components-addendum">
<h2>Addendum</h2>

</section>
<section class="slide" id="addendum">
<h2>Addendum</h2>
<div class="paragraph"><p>Miscellaneous information</p></div>
<div class="ulist">
<ul>
<li>Not part of the official class</li>
<li>May help answer questions that are specific to a group/person</li>
<li><p>
Sample/Demo code will be in kept in a demo directory in solutions<div class="ulist">
<ul>
<li>big-brokers-spark/src/demo/scala - scala sample code</li>
<li>big-brokers-webapp/src/demo/java - java sample code</li>
<li>You may need to add these paths to your project build path to be able to execute</li>
</ul>
</div></p></li>
</ul>
</div>
<div class="ulist notes">
<ul>
<li>The purpose of this section is to give individual instructors a place to drop any little widget/hint/trick/example they want to be able to share, in a shared space</li>
</ul>
</div>
</section>
<section class="slide transition-blue" id="user-address">
<h2>User Address</h2>

</section>
<section class="slide" id="user-address-2">
<h2>User Address</h2>
<div class="paragraph"><p>Simple setup of two differnt tables for a user that includes and address (type) as a clustered column.</p></div>
<div class="ulist">
<ul>
<li>Run the code to create the directory</li>
<li>Look at the difference between static and non static</li>
<li>Flush to disk</li>
<li>Use sstable2json to explore the data files to see how data is stored seperately</li>
<li>The big difference is
statics are associated with the Partition</li>
<li>Non static is associated with the Clustering Column</li>
</ul>
</div>
<div style="page-break-after: always"></div>
<div class="paragraph"><p>With Statics
<br />
<br /></p></div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> user_address (
    userid       <span class="predefined-type">text</span>,
    first_name   <span class="predefined-type">text</span> static,
    last_name    <span class="predefined-type">text</span> static,
    middle_name  <span class="predefined-type">text</span> static,

    address_type <span class="predefined-type">text</span>,
    address1     <span class="predefined-type">text</span>,
    address2     <span class="predefined-type">text</span>,
    city         <span class="predefined-type">text</span>,
    state        <span class="predefined-type">text</span>,
    zip          <span class="predefined-type">text</span>,
    <span class="directive">PRIMARY</span> <span class="type">KEY</span> (userid, address_type));</code></pre>
</div>
</div>
<div style="page-break-after: always"></div>
<div class="paragraph"><p>Without Statics
<br />
<br /></p></div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> user_address2 (
    userid       <span class="predefined-type">text</span>,
    first_name   <span class="predefined-type">text</span>,
    last_name    <span class="predefined-type">text</span>,
    middle_name  <span class="predefined-type">text</span>,

    address_type <span class="predefined-type">text</span>,
    address1     <span class="predefined-type">text</span>,
    address2     <span class="predefined-type">text</span>,
    city         <span class="predefined-type">text</span>,
    state        <span class="predefined-type">text</span>,
    zip          <span class="predefined-type">text</span>,
    <span class="directive">PRIMARY</span> <span class="type">KEY</span> (userid, address_type));</code></pre>
</div>
</div>
<div style="page-break-after: always"></div>
<div class="paragraph"><p>Insert static data
<br />
<br /></p></div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> user_address
    (userid, first_name, last_name, middle_name, address_type, address1, address2, city, state, zip)
  <span class="keyword">VALUES</span>
    (<span class="string"><span class="delimiter">'</span><span class="content">demouser</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Demo</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">User</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Bob</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">HOME</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">3930 Somewhere Ave</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Apt 400</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Lost In Translation</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">ZZ</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">12345</span><span class="delimiter">'</span></span>);

<span class="class">INSERT</span> <span class="class">INTO</span> user_address
    (userid, first_name, last_name, middle_name, address_type, address1, address2, city, state, zip)
  <span class="keyword">VALUES</span>
    (<span class="string"><span class="delimiter">'</span><span class="content">demouser</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Demo</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">User</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Bill</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">WORK</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">3935 Somewhere Ave</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Apt 500</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Lost In Translation</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">ZZ</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">12345</span><span class="delimiter">'</span></span>);

<span class="class">INSERT</span> <span class="class">INTO</span> user_address
    (userid, first_name, last_name, middle_name, address_type, address1, address2, city, state, zip)
  <span class="keyword">VALUES</span>
    (<span class="string"><span class="delimiter">'</span><span class="content">demouser</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Demo</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">User</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Brian</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">VACATION</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">3940 Somewhere Ave</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Apt 700</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Lost In Translation</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">ZZ</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">12345</span><span class="delimiter">'</span></span>);</code></pre>
</div>
</div>
<div style="page-break-after: always"></div>
<div class="paragraph"><p>Insert non static data</p></div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> user_address2
    (userid, first_name, last_name, middle_name, address_type, address1, address2, city, state, zip)
  <span class="keyword">VALUES</span>
    (<span class="string"><span class="delimiter">'</span><span class="content">demouser</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Demo</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">User</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Bob</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">HOME</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">3930 Somewhere Ave</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Apt 400</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Lost In Translation</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">ZZ</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">12345</span><span class="delimiter">'</span></span>);

<span class="class">INSERT</span> <span class="class">INTO</span> user_address2
    (userid, first_name, last_name, middle_name, address_type, address1, address2, city, state, zip)
  <span class="keyword">VALUES</span>
    (<span class="string"><span class="delimiter">'</span><span class="content">demouser</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Demo</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">User</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Bill</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">WORK</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">3935 Somewhere Ave</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Apt 500</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Lost In Translation</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">ZZ</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">12345</span><span class="delimiter">'</span></span>);

<span class="class">INSERT</span> <span class="class">INTO</span> user_address2
    (userid, first_name, last_name, middle_name, address_type, address1, address2, city, state, zip)
  <span class="keyword">VALUES</span>
    (<span class="string"><span class="delimiter">'</span><span class="content">demouser</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Demo</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">User</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Brian</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">VACATION</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">3940 Somewhere Ave</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Apt 700</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Lost In Translation</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">ZZ</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">12345</span><span class="delimiter">'</span></span>);</code></pre>
</div>
</div>
<div style="page-break-after: always"></div>
<div class="paragraph"><p>Pay attention too:</p></div>
<div class="ulist">
<ul>
<li>How the address changes in each file</li>
<li>How the users middle initial changes in user_address but not in user_address2</li>
<li><code>nodetool flush</code> and then go look at the data for each table with <code>stable2json</code></li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">SELECT</span> * <span class="keyword">FROM</span> user_address;

<span class="class">SELECT</span> * <span class="keyword">FROM</span> user_address2;</code></pre>
</div>
</div>
<div class="paragraph"><p><br />
<br /></p></div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">nodetool flush</code></pre>
</div>
</div>
</section>
<div aria-role="navigation">
<a class="deck-prev-link" href="#" title="Previous">
<i class="icon-chevron-with-circle-left"></i>
</a>
<a class="deck-next-link" href="#" title="Next">
<i class="icon-chevron-with-circle-right"></i>
</a>
</div>
<form action="." class="goto-form" method="get">
<label for="goto-slide">Go to Slide:</label>
<input id="goto-slide" list="goto-datalist" name="slidenum" type="text" />
<datalist id="goto-data-list"></datalist>
<input type="submit" value="Go" />
</form>
</div>
<script src="deck.js/jquery.min.js"></script>
<script src="deck.js/d3.v2.js"></script>
<script src="deck.js/jquery-ui.min.js"></script>
<script src="deck.js/core/deck.core.js"></script>
<script src="deck.js/extensions/scale/deck.scale.js"></script>
<script src="deck.js/extensions/goto/deck.goto.js"></script>
<script src="deck.js/extensions/navigation/deck.navigation.js"></script>
<script src="deck.js/extensions/split/deck.split.js"></script>
<script src="deck.js/extensions/animation/deck.animation.js"></script>
<script src="deck.js/extensions/deck.js-notes/deck.notes.js"></script>
<script src="deck.js/extensions/goto/deck.goto.js"></script>
<script src="deck.js/extensions/clone/deck.clone.js"></script>
<script src="deck.js/extensions/svg/svg.min.js"></script>
<script src="js/course.js"></script>
<footer>
<div class="flex-element deck-course">
<p>&copy; 2016 DataStax. Use only with permission. &bull;
<span class="course-title">DS420: DataStax Enterprise for Developers</span></p>
</div>
<div class="flex-element deck-brand">
<a href="http://academy.datastax.com" target="blank">DataStax Academy</a>
</div>
<div class="deck-progressbar">
<span></span>
</div>
</footer>
<script type="text/javascript">
  //<![CDATA[
    (function($, deck, undefined) {
      $.deck.defaults.keys['previous'] = [8, 33, 37, 39];
      $.deck.defaults.keys['next'] = [13, 32, 34, 39];
    
      $.extend(true, $[deck].defaults, {
          countNested: false
      });
    
      $.deck('.slide');
      $.deck('disableScale');
    })(jQuery, 'deck');
  //]]>
</script>
<script type="text/javascript">
  //<![CDATA[
    $(document).bind('deck.change', function(event, from, to) {
      var width = to / ($.deck('getSlides').length - 1) * 100;
      $('.deck-progressbar span').css('width', width + '%');
    });
  //]]>
</script>
</body>
</html>